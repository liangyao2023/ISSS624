---
title: "Take Home Exercise 1"
author: "LIANG YAO"
date: '19 Nov 2023'
date-modified: "`r Sys.Date()`"
execute: 
  warning: false
  echo: true
  eval: true
format: 
  html: 
    code-fold: true
    code-summary: "Show the code"
---

# Urban Mobility Analysis - PART I

## 1 Data Acquisition

SSS624 Applied Geospatial Analytics will be conducted using case study approach. This run the use case is Urban Mobility analysis by using passenger volume by origin-destination bus stops. To get ready for the excercise, you are required to do the following as soon as possible:

-   Apply an API access from LTA by visiting [LTA DataMall](https://datamall.lta.gov.sg/content/datamall/en.html),

-   Complete the API Access form  and submit.  Please note that it will take at least one working day to reply you.

-   Next, return to Dynamic Datasets page and click on API Documentation. The pdf document appears.  Click on 2.6 and read the content carefully.

-   Once you received the API access code, read Section 1 of API Document and follow the instruction provided to download the data sets. You are required to download last three months data (August, September and October).

## 2 Data Preparation

In this exercise, two R packages will be used. They are:

-   **sf** for importing, managing, and processing geospatial data, and

-   **tidyverse** for performing data science tasks such as importing, wrangling and visualizing data.

```{r}
pacman::p_load(tmap, sf, tidyverse)
```

### 2.1 Preparing the Flow Data

```{r}
mpsz = st_read(dsn = "data/geospatial", 
                  layer = "MPSZ-2019")
```

### 2.2 Importing the OD Data

Import the bus stop location data.

```{r}
busstop = st_read(dsn = "data/geospatial/BusStopLocation_Jul2023", 
                         layer = "BusStop")
```

Import the bus stop by origin destination data.

```{r}

```

### 2.3 Extracting Data

The `pre-schools-location-kml` is in kml format. The code chunk below will be used to import the kml into R. Notice that in the code chunk below, the complete path and the kml file extension were provided.

```{r}

```

The message above reveals that `preschool` is a point feature data frame. There are a total of 1359 features and 2 fields. Different from the previous two simple feature data frame, preschool is in **wgs84** coordinates system.
